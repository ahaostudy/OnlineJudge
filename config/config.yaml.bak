# 使用以下命令更新结构体
# yaml2go-cli -i config/config.yaml -o config/gen.go -p config

# 需要先安装 go install github.com/Icemap/yaml2go-cli@latest


etcd:
  addr: 192.168.1.67:2379
  ttl: 10

rabbitmq:
  host: 127.0.0.1
  port: 5672
  username: admin
  password: xxx
  vhost: ''

mysql:
  host: 127.0.0.1
  port: 3306
  dbname: oj
  username: root
  password: xxx
  charset: utf8mb4


redis:
  addr: 127.0.0.1:6379
  password: xxx
  lockKey: lock
  ttl: 86400  # 24*60*60s
  shortTtl: 300  # 5*60s

mongodb:
  host: 127.0.0.1
  port: 27017
  dbname: online_judge
  username: root
  password: xxx


# 后端服务
server:
  salt: 2023/08/31
  node: 1  # 雪花节点编号

  email:
    addr: smtp.163.com:25
    host: smtp.163.com
    from: "OnlineJudge <xxx@163.com>"
    email: xxx@163.com
    auth: xxx  # 邮箱授权码
    expire: 300  # 5*60s

  auth:
    issuer: zty
    key: ztyyyds666
    expire: 720  # 30*24h


# 判题服务
judge:
  name: judge
  version: v1
  host: 192.168.1.67
  port: 9991

  system:
    sudoPwd: xxx

  exe:
    python: /usr/local/bin/python3.8
    gcc: /usr/bin/gcc
    gpp: /usr/bin/g++
    go: /usr/bin/go
    java: /usr/bin/java
    javac: /usr/bin/javac

  sandbox:
    exePath: /usr/lib/judger/libjudger.so
    logPath: /projects/OnlineJudge/file/judger.log
    defaultMaxTime: 1000           # 1000ms
    defaultMaxMemory: 536870912    # 512MB
    defaultMaxOutputSize: 1048576  # 1MB

  file:
    tempPath: /projects/OnlineJudge/file
    codePath: /projects/OnlineJudge/file/code
    demoPath: /projects/OnlineJudge/internal/service/judge/demo


problem:
  name: problem
  version: v1
  host: 192.168.1.67
  port: 9992

  file:
    testcasePath: /projects/OnlineJudge/file/testcase


submit:
  name: submit
  version: v1
  host: 192.168.1.67
  port: 9993

  jobs:
    time: 5


chatgpt:
  name: chatgpt
  version: v1
  host: 192.168.1.67
  port: 9994

  openai:
    baseUrl: https://api.openai.com/
    apiKey: sk-xxx
    model: gpt-3.5-turbo


contest:
  name: contest
  version: v1
  host: 192.168.1.67
  port: 9995


private:
  name: private
  version: v1
  host: 192.168.1.67
  port: 9001
